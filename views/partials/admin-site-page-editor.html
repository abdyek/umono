<main id="editor-area" class="flex-1 flex overflow-hidden">
  <div class="flex-1 flex flex-col border-r border-neutral-700/50">
    <header class="px-6 py-4 border-b border-neutral-700/50 bg-neutral-800/20">
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-lg font-semibold text-neutral-200">{{ .Name }}</h2>
          <p class="text-xs text-neutral-500 mt-0.5">Last updated: {{ .LastModifiedAt }}</p>
        </div>
        <div class="flex items-center gap-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <span class="text-xs text-neutral-500">Enabled</span>
            <div class="relative">
              <input type="checkbox" {{ if .IsEnabled }} checked {{ end }}class="sr-only peer">
              <div class="w-9 h-5 bg-neutral-700 rounded-full peer peer-checked:bg-purple-600 transition-colors"></div>
              <div class="absolute left-0.5 top-0.5 w-4 h-4 bg-white rounded-full transition-transform peer-checked:translate-x-4"></div>
            </div>
          </label>
          <button 
            type="submit"
            form="page-form"
            class="flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium px-4 py-2 rounded-xl transition-all duration-200 shadow-lg shadow-purple-900/20 active:scale-[0.98]"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span>Save</span>
          </button>
          <button 
            class="p-2 rounded-xl hover:bg-red-500/10 text-neutral-500 hover:text-red-400 transition-colors"
            hx-delete="/api/v1/pages/1"
            hx-confirm="Bu sayfayı silmek istediğinize emin misiniz?"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
          </button>
        </div>
      </div>
    </header>
    <form id="page-form" class="flex-1 flex flex-col overflow-hidden p-6 space-y-4"
          hx-put="/api/v1/pages"
          hx-target="#editor-area"
          hx-swap="innerHTML">
      <input type="hidden" name="id" value="1">
      <div class="grid grid-cols-2 gap-4">
        <div class="space-y-2">
          <label class="text-sm font-medium text-neutral-300 ml-1" for="name">Name</label>
          <input 
            class="w-full bg-neutral-900/50 border border-neutral-700 text-neutral-200 rounded-xl px-4 py-2.5 text-sm outline-none focus:border-purple-500/50 focus:ring-4 focus:ring-purple-500/10 transition-all duration-200 placeholder:text-neutral-600" 
            type="text" 
            id="name" 
            name="name"
            value="{{ .Name }}"
          >
        </div>
        <div class="space-y-2">
          <label class="text-sm font-medium text-neutral-300 ml-1" for="slug">Slug</label>
          <div class="flex">
            <span class="inline-flex items-center px-3 bg-neutral-800 border border-r-0 border-neutral-700 rounded-l-xl text-neutral-500 text-sm">/</span>
            <input 
              class="flex-1 bg-neutral-900/50 border border-neutral-700 text-neutral-200 rounded-r-xl px-4 py-2.5 text-sm outline-none focus:border-purple-500/50 focus:ring-4 focus:ring-purple-500/10 transition-all duration-200 placeholder:text-neutral-600" 
              type="text" 
              id="slug" 
              name="slug"
              value="{{ .Slug }}"
              placeholder="page-slug"
            >
          </div>
        </div>
      </div>
      <div class="flex-1 flex flex-col space-y-2 min-h-0">
        <label class="text-sm font-medium text-neutral-300 ml-1" for="content">Content</label>
        <textarea 
          class="flex-1 w-full bg-neutral-900/50 border border-neutral-700 text-neutral-200 rounded-xl px-4 py-3 text-sm outline-none focus:border-purple-500/50 focus:ring-4 focus:ring-purple-500/10 transition-all duration-200 placeholder:text-neutral-600 font-mono resize-none" 
          id="content" 
          name="content"
          placeholder="# Hello"
          hx-post="/admin/site-pages/preview"
          hx-trigger="keyup changed delay:750ms"
          hx-target="#preview-content"
          hx-swap="innerHTML"
          >{{ .Content }}</textarea>
      </div>
    </form>
  </div>
  <div class="w-[50%] flex flex-col bg-neutral-950/50">
    <header class="px-6 py-4 border-b border-neutral-700/50 bg-neutral-800/20">
      <div class="flex items-center justify-between">
        <h3 class="text-sm font-medium text-neutral-400">Preview</h3>
        <div class="flex items-center gap-1 text-xs text-neutral-600">
          <span class="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></span>
          <span>Live</span>
        </div>
      </div>
    </header>
    <div id="preview-content" class="flex-1 overflow-auto p-2">
      {{ .Output }}
    </div>
    <script>
      (() => {
        const previewContent = document.getElementById('preview-content');
        const shadow = previewContent.attachShadow({ mode: 'open' });
        shadow.innerHTML = `<style>:host{ background-color: white; } :host { all: initial; display: block; background-color: white; }</style>{{ .Output }}`;
      })()
    </script>
  </div>
</main>
